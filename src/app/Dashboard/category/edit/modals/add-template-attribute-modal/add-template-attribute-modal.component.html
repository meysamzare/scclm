<div dir="rtl" style="min-width: 450px;">
    <div mat-dialog-title>
        <p><b>افزودن فیلد از فیلد های برگزیده</b></p>
        <div class="row">
            <div class="col-lg-12">
                <input type="text" class="form-control" (input)="refreshData$.next()" [(ngModel)]="searchText"
                    name="search" placeholder="جستجو">
            </div>
        </div>

        <ng-container *ngIf="isLoading">
            <mat-progress-bar class="margin-top-10" mode="buffer"></mat-progress-bar>
        </ng-container>

    </div>

    <div mat-dialog-content>

        <div class="row margin-top-10" *ngFor="let attr of tempAttrs">
            <div class="col-lg-12">

                <ng-container *ngIf="!isLoading && tempAttrs.length == 0">
                    <p style="text-align: center;"><b>موردی یافت نشد</b></p>
                </ng-container>

                <mat-card style="cursor: pointer;" matRipple (click)="addAttributeTempForCat(attr.id)">
                    <div class="row">
                        <div class="col-lg-12">
                            <h3>{{ attr.title }}</h3>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-lg-3">
                            <b>{{ attr.attrTypeString }}</b>
                        </div>
                        <div class="col-lg-3">
                            <b [style.color]="attr.isRequired ? 'red' : 'green'">
                                {{ attr.isRequired ? "اجباری" : "اختیاری" }}
                            </b>
                        </div>
                        <div class="col-lg-3">
                            <b *ngIf="attr.isMeliCode" style="color:orange">کدملی</b>
                        </div>
                        <div class="col-lg-3">
                            <b *ngIf="attr.isUniq" style="color:darkred">غیر تکراری</b>
                        </div>
                    </div>

                </mat-card>

            </div>
        </div>


        <div class="row margin-top-10" *ngIf="canShowMoreButton()">
            <div class="col-lg-12">
                <button (click)="nextPage()" [disabled]="isLoading" class="btn btn-block btn-outline-info">
                    نمایش بیشتر
                </button>
            </div>
        </div>
    </div>

    <div mat-dialog-actions>
        <button mat-stroked-button color="warn" style="margin-right: 5px;" [mat-dialog-close]="false">لغو</button>
        &nbsp; &nbsp; &nbsp;

        <mat-checkbox name="stayOn" [(ngModel)]="stayOnPage"
        matTooltip="در صورت فعال بودن این گزینه شما در صفحه جاری، پس از انتخاب فیلد باقی می مانید ">
            ثبت و بعدی
        </mat-checkbox>
    </div>

</div>