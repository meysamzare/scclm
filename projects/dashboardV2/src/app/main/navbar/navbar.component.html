<mat-toolbar color="primary" class="ex-toolbar" [class.iss-mobile]="navbar.isMobile">
    <button mat-icon-button *ngIf="showSidebarToggleButton" (click)="navbar.toggleNavbar()">
        <mat-icon *ngIf="navbar.state == false">menu</mat-icon>
        <mat-icon *ngIf="navbar.state == true">arrow_forward</mat-icon>
    </button>
    <h2 class="ex-app-name" *ngIf="showTitle">{{ Title }}</h2>

    <span class="ex-spacer"></span>

    <div class="level is-mobile" style="display: flex; margin-bottom: 0;">
        <div class="level-right">
            <ng-container *ngFor="let i of items">
                <div class="level-item">
                    <ng-container *ngTemplateOutlet="i.tempRef"></ng-container>
                </div>
            </ng-container>

            <div class="level-item" *ngIf="showRefresh">
                <button (click)="refresh$.next()" mat-icon-button>
                    <mat-icon>refresh</mat-icon>
                </button>
            </div>

            <div class="level-item" *ngIf="showBackNavigate">
                <button [disabled]="!locationService.canGoBack()" (click)="locationService.back()" mat-icon-button>
                    <mat-icon>keyboard_arrow_left</mat-icon>
                </button>
            </div>

            <div class="level-item">
                <button *ngIf="showColorButton" mat-icon-button [matMenuTriggerFor]="colorMenu">
                    <mat-icon>format_color_fill</mat-icon>
                </button>
                <mat-menu #colorMenu="matMenu">
                    <button mat-menu-item [disabled]="themeSrv.themeState == 0"
                        (click)="themeSrv.setThemeState(0)">
                        <mat-icon>wb_incandescent</mat-icon>
                        <span>روشن</span>
                    </button>

                    <button mat-menu-item [disabled]="themeSrv.themeState == 1"
                        (click)="themeSrv.setThemeState(1)">
                        <mat-icon>brightness_2</mat-icon>
                        <span>تاریک</span>
                    </button>

                    <mat-divider></mat-divider>

                    <button mat-menu-item [disabled]="themeSrv.themeState == 2"
                        (click)="themeSrv.setThemeState(2)">
                        <mat-icon>invert_colors</mat-icon>
                        <span>خودکار - براساس سیستم</span>
                    </button>

                    <button mat-menu-item [disabled]="themeSrv.themeState == 3"
                        (click)="themeSrv.setThemeState(3)">
                        <mat-icon>timelapse</mat-icon>
                        <span>خودکار - براساس زمان</span>
                    </button>
                </mat-menu>
            </div>
        </div>
    </div>
</mat-toolbar>